function Marker(e){this.poiData=e,this.isSelected=!1,this.animationGroup_idle=null,this.animationGroup_selected=null;var t=new AR.GeoLocation(e.latitude,e.longitude,e.altitude);return this.markerDrawable_idle=new AR.ImageDrawable(World.markerDrawable_idle,2.5,{zOrder:0,opacity:1,onClick:Marker.prototype.getOnClickTrigger(this)}),this.markerDrawable_selected=new AR.ImageDrawable(World.markerDrawable_selected,2.5,{zOrder:0,opacity:0,onClick:null}),this.titleLabel=new AR.Label(e.title.trunc(10),1,{zOrder:1,offsetY:.55,style:{textColor:"#FFFFFF",fontStyle:AR.CONST.FONT_STYLE.BOLD}}),this.descriptionLabel=new AR.Label(e.description.trunc(15),.8,{zOrder:1,offsetY:-.55,style:{textColor:"#FFFFFF"}}),this.directionIndicatorDrawable=new AR.ImageDrawable(World.markerDrawable_directionIndicator,.5,{enabled:!1}),new AR.GeoObject(t,{drawables:{cam:[this.markerDrawable_idle,this.markerDrawable_selected,this.titleLabel,this.descriptionLabel],indicator:this.directionIndicatorDrawable}}),this}var kMarker_AnimationDuration_ChangeDrawable=500,kMarker_AnimationDuration_Resize=1e3;Marker.prototype.getOnClickTrigger=function(e){return function(){return Marker.prototype.isAnyAnimationRunning(e)?AR.logger.debug("a animation is already running"):e.isSelected?Marker.prototype.setDeselected(e):Marker.prototype.setSelected(e),!0}},Marker.prototype.setSelected=function(e){if(e.isSelected=!0,null===e.animationGroup_selected){var t=new AR.PropertyAnimation(e.markerDrawable_idle,"opacity",null,0,kMarker_AnimationDuration_ChangeDrawable),i=new AR.PropertyAnimation(e.markerDrawable_selected,"opacity",null,.8,kMarker_AnimationDuration_ChangeDrawable),n=new AR.PropertyAnimation(e.markerDrawable_idle,"scaling",null,1.2,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2})),r=new AR.PropertyAnimation(e.markerDrawable_selected,"scaling",null,1.2,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2})),a=new AR.PropertyAnimation(e.titleLabel,"scaling",null,1.2,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2})),o=new AR.PropertyAnimation(e.descriptionLabel,"scaling",null,1.2,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2}));e.animationGroup_selected=new AR.AnimationGroup(AR.CONST.ANIMATION_GROUP_TYPE.PARALLEL,[t,i,n,r,a,o])}e.markerDrawable_idle.onClick=null,e.markerDrawable_selected.onClick=Marker.prototype.getOnClickTrigger(e),e.directionIndicatorDrawable.enabled=!0,e.animationGroup_selected.start()},Marker.prototype.setDeselected=function(e){if(e.isSelected=!1,null===e.animationGroup_idle){var t=new AR.PropertyAnimation(e.markerDrawable_idle,"opacity",null,.8,kMarker_AnimationDuration_ChangeDrawable),i=new AR.PropertyAnimation(e.markerDrawable_selected,"opacity",null,0,kMarker_AnimationDuration_ChangeDrawable),n=new AR.PropertyAnimation(e.markerDrawable_idle,"scaling",null,1,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2})),r=new AR.PropertyAnimation(e.markerDrawable_selected,"scaling",null,1,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2})),a=new AR.PropertyAnimation(e.titleLabel,"scaling",null,1,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2})),o=new AR.PropertyAnimation(e.descriptionLabel,"scaling",null,1,kMarker_AnimationDuration_Resize,new AR.EasingCurve(AR.CONST.EASING_CURVE_TYPE.EASE_OUT_ELASTIC,{amplitude:2}));e.animationGroup_idle=new AR.AnimationGroup(AR.CONST.ANIMATION_GROUP_TYPE.PARALLEL,[t,i,n,r,a,o])}e.markerDrawable_idle.onClick=Marker.prototype.getOnClickTrigger(e),e.markerDrawable_selected.onClick=null,e.directionIndicatorDrawable.enabled=!1,e.animationGroup_idle.start()},Marker.prototype.isAnyAnimationRunning=function(e){return null===e.animationGroup_idle||null===e.animationGroup_selected?!1:e.animationGroup_idle.isRunning()===!0||e.animationGroup_selected.isRunning()===!0?!0:!1},String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"...":"")};